<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Data Mining - Android - OpenCL: /home/robert/AndroidStudioProjects/DMGPU/app/src/C/source/dbscan_c.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Data Mining - Android - OpenCL
   </div>
   <div id="projectbrief">DMOCL</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_382b62fd9ca97535352e87eb3043a695.html">C</a></li><li class="navelem"><a class="el" href="dir_502d2e565b93165f75ee7d253f504642.html">source</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">dbscan_c.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Source file for the C/C+GPU implementations of the DBSCAN algorithm.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;jni.h&gt;</code><br />
<code>#include &quot;<a class="el" href="dbscan__c_8h_source.html">dbscan_c.h</a>&quot;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;math.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;<a class="el" href="rwlock__wp_8h_source.html">rwlock_wp.h</a>&gt;</code><br />
<code>#include &quot;<a class="el" href="oclwrapper_8h_source.html">oclwrapper.h</a>&quot;</code><br />
<code>#include &lt;CL/opencl.h&gt;</code><br />
<code>#include &lt;pthread.h&gt;</code><br />
<code>#include &lt;semaphore.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdbscan__pt.html">dbscan_pt</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parameters for the DBSCAN thread.  <a href="structdbscan__pt.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a16605039b395344c0b68b435e197b8bd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbscan__c_8c.html#a16605039b395344c0b68b435e197b8bd">CL_USE_DEPRECATED_OPENCL_1_2_APIS</a></td></tr>
<tr class="memdesc:a16605039b395344c0b68b435e197b8bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">User older APIs.  <a href="#a16605039b395344c0b68b435e197b8bd">More...</a><br /></td></tr>
<tr class="separator:a16605039b395344c0b68b435e197b8bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28c7f4454d27d9a294ebe7eb12a54e8c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbscan__c_8c.html#a28c7f4454d27d9a294ebe7eb12a54e8c">MAXVALUE</a>&#160;&#160;&#160;((short) 0xFFFF)</td></tr>
<tr class="memdesc:a28c7f4454d27d9a294ebe7eb12a54e8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum value for 16 Bit short.  <a href="#a28c7f4454d27d9a294ebe7eb12a54e8c">More...</a><br /></td></tr>
<tr class="separator:a28c7f4454d27d9a294ebe7eb12a54e8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab26f3be5ae4af394f940d3ff5c996d84"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbscan__c_8c.html#ab26f3be5ae4af394f940d3ff5c996d84">GPUTIMING</a></td></tr>
<tr class="memdesc:ab26f3be5ae4af394f940d3ff5c996d84"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define if exclusive GPU time should be measured.  <a href="#ab26f3be5ae4af394f940d3ff5c996d84">More...</a><br /></td></tr>
<tr class="separator:ab26f3be5ae4af394f940d3ff5c996d84"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a92c90fc7d2ecd9ef66e569aed82e3273"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbscan__c_8c.html#a92c90fc7d2ecd9ef66e569aed82e3273">expandCluster</a> (int key, const short clusternumber, unsigned short *b, const float *data, const float epseps, const int kk, const int datalen, const int features)</td></tr>
<tr class="memdesc:a92c90fc7d2ecd9ef66e569aed82e3273"><td class="mdescLeft">&#160;</td><td class="mdescRight">Expands a cluster found.  <a href="#a92c90fc7d2ecd9ef66e569aed82e3273">More...</a><br /></td></tr>
<tr class="separator:a92c90fc7d2ecd9ef66e569aed82e3273"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a994c7f688041080441d904aaabd542e8"><td class="memItemLeft" align="right" valign="top">short&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbscan__c_8c.html#a994c7f688041080441d904aaabd542e8">dbscan</a> (unsigned short *b, const float *data, const int blen, const float eps, const int kk, const int features)</td></tr>
<tr class="memdesc:a994c7f688041080441d904aaabd542e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs a DBSCAN search on the CPU (one thread)  <a href="#a994c7f688041080441d904aaabd542e8">More...</a><br /></td></tr>
<tr class="separator:a994c7f688041080441d904aaabd542e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac96946a3590e41c2ba686a783d2c59c5"><td class="memItemLeft" align="right" valign="top">JNIEXPORT jshort JNICALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbscan__c_8c.html#ac96946a3590e41c2ba686a783d2c59c5">Java_com_example_dmocl_dbscan_dbscan_1c</a> (JNIEnv *env, jclass jc, jshortArray b, jfloatArray rf, jfloat eps, jint kk, jint features)</td></tr>
<tr class="separator:ac96946a3590e41c2ba686a783d2c59c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fcfc6e4577a65d95444ddb408c698a4"><td class="memItemLeft" align="right" valign="top">short&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbscan__c_8c.html#a1fcfc6e4577a65d95444ddb408c698a4">expandCluster_gpu</a> (int key, const short clusternumber, unsigned short *b, const float *data, const float epseps, const int kk, const int datalen, const int features, cl_command_queue commands, cl_kernel kernel_testdistance2, cl_mem b_g, const size_t *global_size)</td></tr>
<tr class="memdesc:a1fcfc6e4577a65d95444ddb408c698a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Expands a cluster found on the GPU.  <a href="#a1fcfc6e4577a65d95444ddb408c698a4">More...</a><br /></td></tr>
<tr class="separator:a1fcfc6e4577a65d95444ddb408c698a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf13a06373a664bdef41491940cf733d"><td class="memItemLeft" align="right" valign="top">short&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbscan__c_8c.html#acf13a06373a664bdef41491940cf733d">dbscan_gpu</a> (cl_ushort *b, const cl_float *data, const int blen, const float eps, const int kk, const int features, cl_command_queue commands, cl_program program, cl_device_id device, cl_kernel kernel_testdistance1, cl_kernel kernel_testdistance2, cl_mem data_g, cl_mem b_g, struct timespec *start2, struct timespec *finish2)</td></tr>
<tr class="memdesc:acf13a06373a664bdef41491940cf733d"><td class="mdescLeft">&#160;</td><td class="mdescRight">kmeans cluster search on the GPU  <a href="#acf13a06373a664bdef41491940cf733d">More...</a><br /></td></tr>
<tr class="separator:acf13a06373a664bdef41491940cf733d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a279dd21557bcbe8fcb980459a9e46131"><td class="memItemLeft" align="right" valign="top">JNIEXPORT jshort JNICALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbscan__c_8c.html#a279dd21557bcbe8fcb980459a9e46131">Java_com_example_dmocl_dbscan_dbscan_1c_1gpu</a> (JNIEnv *env, jclass jc, jshortArray b, jfloatArray rf, jfloat eps, jint kk, jint features, jlongArray e)</td></tr>
<tr class="separator:a279dd21557bcbe8fcb980459a9e46131"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a328958ce0311bbd3b136b0ba70a53eff"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbscan__c_8c.html#a328958ce0311bbd3b136b0ba70a53eff">dbscanthread1</a> (void *arg)</td></tr>
<tr class="memdesc:a328958ce0311bbd3b136b0ba70a53eff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Distance test for cluster expansion.  <a href="#a328958ce0311bbd3b136b0ba70a53eff">More...</a><br /></td></tr>
<tr class="separator:a328958ce0311bbd3b136b0ba70a53eff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a136c019aa135e830b210dfbfb84bc63b"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbscan__c_8c.html#a136c019aa135e830b210dfbfb84bc63b">dbscanthread2</a> (void *arg)</td></tr>
<tr class="memdesc:a136c019aa135e830b210dfbfb84bc63b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Distance test for cluster expansion.  <a href="#a136c019aa135e830b210dfbfb84bc63b">More...</a><br /></td></tr>
<tr class="separator:a136c019aa135e830b210dfbfb84bc63b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a742298819c3bf0b8817d5c984567af6b"><td class="memItemLeft" align="right" valign="top">short&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbscan__c_8c.html#a742298819c3bf0b8817d5c984567af6b">expandCluster_pthreads</a> (int key, const short clusternumber, unsigned short *b, const float *data, const float epseps, const int kk, const int datalen, const int features, const int cores, struct <a class="el" href="structdbscan__pt.html">dbscan_pt</a> *dbthreads)</td></tr>
<tr class="memdesc:a742298819c3bf0b8817d5c984567af6b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Expands a cluster found by the main loop of the DBSCAN algorithm (multithreaded)  <a href="#a742298819c3bf0b8817d5c984567af6b">More...</a><br /></td></tr>
<tr class="separator:a742298819c3bf0b8817d5c984567af6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada61fc5ccb8ba860c103bbd106545e67"><td class="memItemLeft" align="right" valign="top">short&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbscan__c_8c.html#ada61fc5ccb8ba860c103bbd106545e67">dbscan_pthreads</a> (unsigned short *b, const float *data, const int blen, const float eps, const int kk, const int features, const int cores, struct <a class="el" href="structdbscan__pt.html">dbscan_pt</a> *dbthreads)</td></tr>
<tr class="memdesc:ada61fc5ccb8ba860c103bbd106545e67"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs a DBSCAN search on the CPU (multithreaded)  <a href="#ada61fc5ccb8ba860c103bbd106545e67">More...</a><br /></td></tr>
<tr class="separator:ada61fc5ccb8ba860c103bbd106545e67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e0b673d019dfe5d8dbc901adab3f34a"><td class="memItemLeft" align="right" valign="top">JNIEXPORT jshort JNICALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbscan__c_8c.html#a5e0b673d019dfe5d8dbc901adab3f34a">Java_com_example_dmocl_dbscan_dbscan_1c_1phtreads</a> (JNIEnv *env, jclass jc, jshortArray b, jfloatArray rf, jfloat eps, jint kk, jint features, jint cores, jlongArray e)</td></tr>
<tr class="separator:a5e0b673d019dfe5d8dbc901adab3f34a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a595b90967377c5f6daa9c2a110fd671b"><td class="memItemLeft" align="right" valign="top">JNIEXPORT void JNICALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbscan__c_8c.html#a595b90967377c5f6daa9c2a110fd671b">Java_com_example_dmocl_dbscan_dbscanabort_1c</a> (JNIEnv *env, jclass clazz)</td></tr>
<tr class="separator:a595b90967377c5f6daa9c2a110fd671b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22a2e59f0b9aa8900bec7fa6f164ca79"><td class="memItemLeft" align="right" valign="top">JNIEXPORT void JNICALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbscan__c_8c.html#a22a2e59f0b9aa8900bec7fa6f164ca79">Java_com_example_dmocl_dbscan_dbscanresume_1c</a> (JNIEnv *env, jclass clazz)</td></tr>
<tr class="separator:a22a2e59f0b9aa8900bec7fa6f164ca79"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ad5440e2ade153ebd99a84e1cf921ce09"><td class="memItemLeft" align="right" valign="top">volatile struct <a class="el" href="structrwlockwp.html">rwlockwp</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbscan__c_8c.html#ad5440e2ade153ebd99a84e1cf921ce09">abortcalc</a> = <a class="el" href="rwlock__wp_8h.html#a0e5677072fd09de2ad07b5ac633bde51">RWLOCK_STATIC_INITIALIZER</a></td></tr>
<tr class="memdesc:ad5440e2ade153ebd99a84e1cf921ce09"><td class="mdescLeft">&#160;</td><td class="mdescRight">a lock for premature abort of algorithms  <a href="#ad5440e2ade153ebd99a84e1cf921ce09">More...</a><br /></td></tr>
<tr class="separator:ad5440e2ade153ebd99a84e1cf921ce09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9867da3bf6e8f1129209c6583fb662f"><td class="memItemLeft" align="right" valign="top">volatile int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbscan__c_8c.html#ab9867da3bf6e8f1129209c6583fb662f">doabort</a> = 0</td></tr>
<tr class="memdesc:ab9867da3bf6e8f1129209c6583fb662f"><td class="mdescLeft">&#160;</td><td class="mdescRight">flag for premature abort of algorithms  <a href="#ab9867da3bf6e8f1129209c6583fb662f">More...</a><br /></td></tr>
<tr class="separator:ab9867da3bf6e8f1129209c6583fb662f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7062ae36933564b236d16828738f830a"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbscan__c_8c.html#a7062ae36933564b236d16828738f830a">clsource</a></td></tr>
<tr class="memdesc:a7062ae36933564b236d16828738f830a"><td class="mdescLeft">&#160;</td><td class="mdescRight">DBSCAN OpenCL kernel.  <a href="#a7062ae36933564b236d16828738f830a">More...</a><br /></td></tr>
<tr class="separator:a7062ae36933564b236d16828738f830a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Source file for the C/C+GPU implementations of the DBSCAN algorithm. </p>
<p>This C source file contains three methods, that allow to perform single- or multithreaded CPU or GPU based DBSCAN cluster searches. </p><dl class="section copyright"><dt>Copyright</dt><dd>Copyright Robert Fritze 2021 </dd></dl>
<dl class="section user"><dt>License:</dt><dd>MIT </dd></dl>
<dl class="section version"><dt>Version</dt><dd>1.0 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Robert Fritze </dd></dl>
<dl class="section date"><dt>Date</dt><dd>11.9.2021 </dd></dl>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a16605039b395344c0b68b435e197b8bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16605039b395344c0b68b435e197b8bd">&#9670;&nbsp;</a></span>CL_USE_DEPRECATED_OPENCL_1_2_APIS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CL_USE_DEPRECATED_OPENCL_1_2_APIS</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>User older APIs. </p>

</div>
</div>
<a id="ab26f3be5ae4af394f940d3ff5c996d84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab26f3be5ae4af394f940d3ff5c996d84">&#9670;&nbsp;</a></span>GPUTIMING</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GPUTIMING</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Define if exclusive GPU time should be measured. </p>

</div>
</div>
<a id="a28c7f4454d27d9a294ebe7eb12a54e8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28c7f4454d27d9a294ebe7eb12a54e8c">&#9670;&nbsp;</a></span>MAXVALUE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAXVALUE&#160;&#160;&#160;((short) 0xFFFF)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Maximum value for 16 Bit short. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a994c7f688041080441d904aaabd542e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a994c7f688041080441d904aaabd542e8">&#9670;&nbsp;</a></span>dbscan()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">short dbscan </td>
          <td>(</td>
          <td class="paramtype">unsigned short *&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>blen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float&#160;</td>
          <td class="paramname"><em>eps</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>kk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>features</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Performs a DBSCAN search on the CPU (one thread) </p>
<p>This method searches clusters with the DBSCAN method on the CPU with a single thread </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">b</td><td>(out) Cluster number + status bits (Bit 0: data item classified, Bit 1: distance reachable from main loop, Bit 2: distance reachable from cluster expansion </td></tr>
    <tr><td class="paramname">data</td><td>(in) input data </td></tr>
    <tr><td class="paramname">blen</td><td>(in) number of data items (blen*features = number of floats in 'data') </td></tr>
    <tr><td class="paramname">eps</td><td>(in) search radius </td></tr>
    <tr><td class="paramname">kk</td><td>(in) number of neighbours </td></tr>
    <tr><td class="paramname">features</td><td>(in) number of features </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>&gt;0 number of clusters found (0=only noise points), -1=permature abort, -256=too many clusters (number can not be stored with 12 bits) </dd></dl>
<dl class="section user"><dt>Multithreading:</dt><dd>fully threadsafe </dd></dl>

</div>
</div>
<a id="acf13a06373a664bdef41491940cf733d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf13a06373a664bdef41491940cf733d">&#9670;&nbsp;</a></span>dbscan_gpu()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">short dbscan_gpu </td>
          <td>(</td>
          <td class="paramtype">cl_ushort *&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const cl_float *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>blen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float&#160;</td>
          <td class="paramname"><em>eps</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>kk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>features</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cl_command_queue&#160;</td>
          <td class="paramname"><em>commands</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cl_program&#160;</td>
          <td class="paramname"><em>program</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cl_device_id&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cl_kernel&#160;</td>
          <td class="paramname"><em>kernel_testdistance1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cl_kernel&#160;</td>
          <td class="paramname"><em>kernel_testdistance2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cl_mem&#160;</td>
          <td class="paramname"><em>data_g</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cl_mem&#160;</td>
          <td class="paramname"><em>b_g</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct timespec *&#160;</td>
          <td class="paramname"><em>start2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct timespec *&#160;</td>
          <td class="paramname"><em>finish2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>kmeans cluster search on the GPU </p>
<p>Performs a Kmeans cluster search on the GPU </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">b</td><td>(out) Array of cluster numbers </td></tr>
    <tr><td class="paramname">data</td><td>(in) Array of data points </td></tr>
    <tr><td class="paramname">blen</td><td>(in) number of data items in data </td></tr>
    <tr><td class="paramname">eps</td><td>(in) search radius </td></tr>
    <tr><td class="paramname">kk</td><td>(in) number of neighbours </td></tr>
    <tr><td class="paramname">features</td><td>(in) number of features per data item </td></tr>
    <tr><td class="paramname">commands</td><td>(in) the OpenCL command queue </td></tr>
    <tr><td class="paramname">program</td><td>(in) the OpenCL program </td></tr>
    <tr><td class="paramname">device</td><td>(in) the OpenCL device </td></tr>
    <tr><td class="paramname">kernel_testdistance1</td><td>(in) the OpenCL kernel for the main loop </td></tr>
    <tr><td class="paramname">kernel_testdistance2</td><td>(in) the OpenCL kernel for the cluster expand part </td></tr>
    <tr><td class="paramname">data_g</td><td>(in) OpenCL data buffer </td></tr>
    <tr><td class="paramname">b_g</td><td>(in) OpenCL cluster number buffer </td></tr>
    <tr><td class="paramname">start2</td><td>(out) Start time point for exculsive GPU timing </td></tr>
    <tr><td class="paramname">finish2</td><td>(out) End time point for exculsive GPU timing </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 = no error, &lt;0 = error number </dd></dl>
<dl class="section user"><dt>Multithreading:</dt><dd>fully threadsafe </dd></dl>

</div>
</div>
<a id="ada61fc5ccb8ba860c103bbd106545e67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada61fc5ccb8ba860c103bbd106545e67">&#9670;&nbsp;</a></span>dbscan_pthreads()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">short dbscan_pthreads </td>
          <td>(</td>
          <td class="paramtype">unsigned short *&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>blen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float&#160;</td>
          <td class="paramname"><em>eps</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>kk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>features</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>cores</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdbscan__pt.html">dbscan_pt</a> *&#160;</td>
          <td class="paramname"><em>dbthreads</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Performs a DBSCAN search on the CPU (multithreaded) </p>
<p>This method searches clusters with the DBSCAN method on the CPU with multiple threads </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">b</td><td>(out) Cluster number + status bits (Bit 0: data item classified, Bit 1: distance reachable from main loop, Bit 2: distance reachable from cluster expansion </td></tr>
    <tr><td class="paramname">data</td><td>(in) input data </td></tr>
    <tr><td class="paramname">blen</td><td>(in) number of data items (blen*features = number of floats in 'data') </td></tr>
    <tr><td class="paramname">eps</td><td>(in) search radius </td></tr>
    <tr><td class="paramname">kk</td><td>(in) number of neighbours </td></tr>
    <tr><td class="paramname">features</td><td>(in) number of features </td></tr>
    <tr><td class="paramname">cores</td><td>(in) number of threads to be used (CPU may be oversubscribed) </td></tr>
    <tr><td class="paramname">dbthreads</td><td>(in) Array of structs (of length 'cores') that holds the thread infos </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>&gt;0 number of clusters found (0=only noise points), -1=permature abort, -256=too many clusters (number can not be stored with 12 bits) </dd></dl>
<dl class="section user"><dt>Multithreading:</dt><dd>fully threadsafe </dd></dl>

</div>
</div>
<a id="a328958ce0311bbd3b136b0ba70a53eff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a328958ce0311bbd3b136b0ba70a53eff">&#9670;&nbsp;</a></span>dbscanthread1()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* dbscanthread1 </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Distance test for cluster expansion. </p>
<p>This method is designed to test in parallel the distance to a given point and mark the data items that are within a defined radius. This method is called from the main DBSCAN loop. The workload is parallelized over the data items. The first and the last data item to used are defined in the struct passed as argument. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">arg</td><td>(in+out) a pointer to the parameter struct </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>NULL </dd></dl>

</div>
</div>
<a id="a136c019aa135e830b210dfbfb84bc63b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a136c019aa135e830b210dfbfb84bc63b">&#9670;&nbsp;</a></span>dbscanthread2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* dbscanthread2 </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Distance test for cluster expansion. </p>
<p>This method is designed to test in parallel the distance to a given point and mark the data items that are within a defined radius. This method is called during the cluster expansion. The workload is parallelized over the data items. The first and the last data item to used are defined in the struct passed as argument. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">arg</td><td>(in+out) a pointer to the parameter struct </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>NULL </dd></dl>

</div>
</div>
<a id="a92c90fc7d2ecd9ef66e569aed82e3273"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92c90fc7d2ecd9ef66e569aed82e3273">&#9670;&nbsp;</a></span>expandCluster()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int expandCluster </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const short&#160;</td>
          <td class="paramname"><em>clusternumber</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned short *&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float&#160;</td>
          <td class="paramname"><em>epseps</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>kk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>datalen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>features</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Expands a cluster found. </p>
<p>This method expands a cluster found to the largest size possible. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>(in) data item number of the new cluster seed </td></tr>
    <tr><td class="paramname">clusternumber</td><td>(in) cluster number to assign to all members of the cluster </td></tr>
    <tr><td class="paramname">b</td><td>(out) Cluster number + status bits (Bit 0: data item classified, Bit 1: distance reachable from main loop, Bit 2: distance reachable from cluster expansion </td></tr>
    <tr><td class="paramname">data</td><td>(in) input data </td></tr>
    <tr><td class="paramname">epseps</td><td>(in) square of search radius </td></tr>
    <tr><td class="paramname">kk</td><td>(in) number of neighbours </td></tr>
    <tr><td class="paramname">datalen</td><td>(in) number of data items (datalen*features = number of floats in 'data') </td></tr>
    <tr><td class="paramname">features</td><td>(in) number of features </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 = OK, &lt;0 interrupt by flag </dd></dl>

</div>
</div>
<a id="a1fcfc6e4577a65d95444ddb408c698a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1fcfc6e4577a65d95444ddb408c698a4">&#9670;&nbsp;</a></span>expandCluster_gpu()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">short expandCluster_gpu </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const short&#160;</td>
          <td class="paramname"><em>clusternumber</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned short *&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float&#160;</td>
          <td class="paramname"><em>epseps</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>kk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>datalen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>features</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cl_command_queue&#160;</td>
          <td class="paramname"><em>commands</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cl_kernel&#160;</td>
          <td class="paramname"><em>kernel_testdistance2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cl_mem&#160;</td>
          <td class="paramname"><em>b_g</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t *&#160;</td>
          <td class="paramname"><em>global_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Expands a cluster found on the GPU. </p>
<p>This method expands a cluster found to the largest size possible using the GPU. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>(in) data item number of the new cluster seed </td></tr>
    <tr><td class="paramname">clusternumber</td><td>(in) cluster number to assign to all members of the cluster </td></tr>
    <tr><td class="paramname">b</td><td>(out) Cluster number + status bits (Bit 0: data item classified, Bit 1: distance reachable from main loop, Bit 2: distance reachable from cluster expansion </td></tr>
    <tr><td class="paramname">data</td><td>(in) input data </td></tr>
    <tr><td class="paramname">epseps</td><td>(in) square of search radius </td></tr>
    <tr><td class="paramname">kk</td><td>(in) number of neighbours </td></tr>
    <tr><td class="paramname">datalen</td><td>(in) number of data items (datalen*features = number of floats in 'data') </td></tr>
    <tr><td class="paramname">features</td><td>(in) number of features </td></tr>
    <tr><td class="paramname">commands</td><td>(in) the OpenCL command queue </td></tr>
    <tr><td class="paramname">kernel_testdistance2</td><td>(in) the OpenCL kernel for the cluster expand part </td></tr>
    <tr><td class="paramname">b_g</td><td>(out) OpenCL cluster number buffer </td></tr>
    <tr><td class="paramname">global_size</td><td>(in) Global work size on the GPU </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 = no error, &lt;0 = error number </dd></dl>
<dl class="section user"><dt>Multithreading:</dt><dd>fully threadsafe </dd></dl>

</div>
</div>
<a id="a742298819c3bf0b8817d5c984567af6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a742298819c3bf0b8817d5c984567af6b">&#9670;&nbsp;</a></span>expandCluster_pthreads()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">short expandCluster_pthreads </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const short&#160;</td>
          <td class="paramname"><em>clusternumber</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned short *&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float&#160;</td>
          <td class="paramname"><em>epseps</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>kk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>datalen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>features</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>cores</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdbscan__pt.html">dbscan_pt</a> *&#160;</td>
          <td class="paramname"><em>dbthreads</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Expands a cluster found by the main loop of the DBSCAN algorithm (multithreaded) </p>
<p>Expands a cluster found by the main loop of the DBSCAN algorithm (multithreaded) </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>(in) number of data item that is the current seed </td></tr>
    <tr><td class="paramname">clusternumber</td><td>(in) number of current cluster </td></tr>
    <tr><td class="paramname">b</td><td>(out) Cluster number + status bits (Bit 0: data item classified, Bit 1: distance reachable from main loop, Bit 2: distance reachable from cluster expansion </td></tr>
    <tr><td class="paramname">data</td><td>(in) input data </td></tr>
    <tr><td class="paramname">epseps</td><td>(in) square search radius </td></tr>
    <tr><td class="paramname">kk</td><td>(in) number of neighbours </td></tr>
    <tr><td class="paramname">datalen</td><td>(in) number of data items (blen*features = number of floats in 'data') </td></tr>
    <tr><td class="paramname">features</td><td>(in) number of features </td></tr>
    <tr><td class="paramname">cores</td><td>(in) number of threads to be used (CPU may be oversubscribed) </td></tr>
    <tr><td class="paramname">dbthreads</td><td>(in) Array of structs (of length 'cores') that holds the thread infos </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0=OK, &lt;0 error (premature abort) </dd></dl>

</div>
</div>
<a id="ac96946a3590e41c2ba686a783d2c59c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac96946a3590e41c2ba686a783d2c59c5">&#9670;&nbsp;</a></span>Java_com_example_dmocl_dbscan_dbscan_1c()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">JNIEXPORT jshort JNICALL Java_com_example_dmocl_dbscan_dbscan_1c </td>
          <td>(</td>
          <td class="paramtype">JNIEnv *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jclass&#160;</td>
          <td class="paramname"><em>jc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jshortArray&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jfloatArray&#160;</td>
          <td class="paramname"><em>rf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jfloat&#160;</td>
          <td class="paramname"><em>eps</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jint&#160;</td>
          <td class="paramname"><em>kk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jint&#160;</td>
          <td class="paramname"><em>features</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Performs a DBSCAN cluster search on the input data with one thread. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">env</td><td>JNI environment variable </td></tr>
    <tr><td class="paramname">jc</td><td>JNI class variable </td></tr>
    <tr><td class="paramname">b</td><td>(out) Array of cluster numbers (0=noise point) </td></tr>
    <tr><td class="paramname">rf</td><td>(in) Array of data points </td></tr>
    <tr><td class="paramname">eps</td><td>(in) search radius </td></tr>
    <tr><td class="paramname">kk</td><td>(in) number of neighbours </td></tr>
    <tr><td class="paramname">features</td><td>(in) number of features per data item contained in the data array </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of clusters found (can be zero if only noise points have been detected) or - if negative - an error code </dd></dl>
<dl class="section user"><dt>Multithreading:</dt><dd>fully threadsafe </dd></dl>

</div>
</div>
<a id="a279dd21557bcbe8fcb980459a9e46131"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a279dd21557bcbe8fcb980459a9e46131">&#9670;&nbsp;</a></span>Java_com_example_dmocl_dbscan_dbscan_1c_1gpu()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">JNIEXPORT jshort JNICALL Java_com_example_dmocl_dbscan_dbscan_1c_1gpu </td>
          <td>(</td>
          <td class="paramtype">JNIEnv *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jclass&#160;</td>
          <td class="paramname"><em>jc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jshortArray&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jfloatArray&#160;</td>
          <td class="paramname"><em>rf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jfloat&#160;</td>
          <td class="paramname"><em>eps</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jint&#160;</td>
          <td class="paramname"><em>kk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jint&#160;</td>
          <td class="paramname"><em>features</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jlongArray&#160;</td>
          <td class="paramname"><em>e</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Performs a DBSCAN cluster search on the GPU. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">env</td><td>JNI environment variable </td></tr>
    <tr><td class="paramname">jc</td><td>JNI class variable </td></tr>
    <tr><td class="paramname">b</td><td>(out) Array of cluster numbers (0=noise point) </td></tr>
    <tr><td class="paramname">rf</td><td>(in) Array of data points </td></tr>
    <tr><td class="paramname">eps</td><td>(in) search radius </td></tr>
    <tr><td class="paramname">kk</td><td>(in) number of neighbours </td></tr>
    <tr><td class="paramname">features</td><td>(in) number of features per data item contained in the data array </td></tr>
    <tr><td class="paramname">e</td><td>(out) Array of exactly one long value, contains the exclusive time needed (in ns) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of clusters found (can be zero if only noise points have been detected) or - if negative - an error code </dd></dl>
<dl class="section user"><dt>Multithreading:</dt><dd>fully threadsafe </dd></dl>

</div>
</div>
<a id="a5e0b673d019dfe5d8dbc901adab3f34a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e0b673d019dfe5d8dbc901adab3f34a">&#9670;&nbsp;</a></span>Java_com_example_dmocl_dbscan_dbscan_1c_1phtreads()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">JNIEXPORT jshort JNICALL Java_com_example_dmocl_dbscan_dbscan_1c_1phtreads </td>
          <td>(</td>
          <td class="paramtype">JNIEnv *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jclass&#160;</td>
          <td class="paramname"><em>jc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jshortArray&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jfloatArray&#160;</td>
          <td class="paramname"><em>rf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jfloat&#160;</td>
          <td class="paramname"><em>eps</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jint&#160;</td>
          <td class="paramname"><em>kk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jint&#160;</td>
          <td class="paramname"><em>features</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jint&#160;</td>
          <td class="paramname"><em>cores</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jlongArray&#160;</td>
          <td class="paramname"><em>e</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Performs a DBSCAN cluster search on the input data with multiple threads. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">env</td><td>JNI environment variable </td></tr>
    <tr><td class="paramname">jc</td><td>JNI class variable </td></tr>
    <tr><td class="paramname">b</td><td>(out) Array of cluster numbers (0=noise point) </td></tr>
    <tr><td class="paramname">rf</td><td>(in) Array of data points </td></tr>
    <tr><td class="paramname">eps</td><td>(in) search radius </td></tr>
    <tr><td class="paramname">kk</td><td>(in) number of neighbours </td></tr>
    <tr><td class="paramname">features</td><td>(in) number of features per data item contained in the data array </td></tr>
    <tr><td class="paramname">cores</td><td>(in) number of cores that should be used </td></tr>
    <tr><td class="paramname">e</td><td>(out) Array of exactly one long value, contains the exclusive time needed (in ns) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of clusters found (can be zero if only noise points have been detected) or - if negative - an error code </dd></dl>
<dl class="section user"><dt>Multithreading:</dt><dd>fully threadsafe </dd></dl>

</div>
</div>
<a id="a595b90967377c5f6daa9c2a110fd671b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a595b90967377c5f6daa9c2a110fd671b">&#9670;&nbsp;</a></span>Java_com_example_dmocl_dbscan_dbscanabort_1c()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">JNIEXPORT void JNICALL Java_com_example_dmocl_dbscan_dbscanabort_1c </td>
          <td>(</td>
          <td class="paramtype">JNIEnv *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jclass&#160;</td>
          <td class="paramname"><em>clazz</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Aborts and inhibits all new calls to the DBSCAN algorithms. This method acts on a 'global' scale and will effect all methods that use this library. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">env</td><td>JNI environment variable </td></tr>
    <tr><td class="paramname">clazz</td><td>JNI class variable </td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Multithreading:</dt><dd>fully threadsafe </dd></dl>

</div>
</div>
<a id="a22a2e59f0b9aa8900bec7fa6f164ca79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22a2e59f0b9aa8900bec7fa6f164ca79">&#9670;&nbsp;</a></span>Java_com_example_dmocl_dbscan_dbscanresume_1c()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">JNIEXPORT void JNICALL Java_com_example_dmocl_dbscan_dbscanresume_1c </td>
          <td>(</td>
          <td class="paramtype">JNIEnv *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jclass&#160;</td>
          <td class="paramname"><em>clazz</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Allows to start DBSCAN searches. This method inverts the effect of Java_com_example_dmocl_dbscan_dbscanabort_1c. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">env</td><td>JNI environment variable </td></tr>
    <tr><td class="paramname">clazz</td><td>JNI class variable </td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Multithreading:</dt><dd>fully threadsafe </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ad5440e2ade153ebd99a84e1cf921ce09"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5440e2ade153ebd99a84e1cf921ce09">&#9670;&nbsp;</a></span>abortcalc</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile struct <a class="el" href="structrwlockwp.html">rwlockwp</a> abortcalc = <a class="el" href="rwlock__wp_8h.html#a0e5677072fd09de2ad07b5ac633bde51">RWLOCK_STATIC_INITIALIZER</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>a lock for premature abort of algorithms </p>

</div>
</div>
<a id="a7062ae36933564b236d16828738f830a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7062ae36933564b236d16828738f830a">&#9670;&nbsp;</a></span>clsource</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* clsource</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>DBSCAN OpenCL kernel. </p>
<h3>__kernel void testdistance1</h3>
<p>(<br />
 &emsp; global const float* data, <br />
 &emsp; global unsigned short* b, <br />
 &emsp; const int features, <br />
 &emsp; const int cmpto, <br />
 &emsp; const float epseps <br />
 ) <br />
<br />
</p>
<p>Calculates the euclidean distance of each data item to a specific given data item. This method is called from the main loop.<br />
</p>
<table class="doxtable">
<tr>
<th>parameter </th><th>in/out </th><th>description  </th></tr>
<tr>
<td><em>global const float* data</em> </td><td>in </td><td>input data  </td></tr>
<tr>
<td><em>global unsigned short* b</em> </td><td>out </td><td>Bit 0: Point has been clustered (1) or not (0)<br />
 Bit 1: Point is distance reachable (main loop)<br />
 Bit 2: Point is distance reachable (cluster expansion loop)<br />
 Bit 3-15: Cluster number for each data item  </td></tr>
<tr>
<td><em>const int features</em>  </td><td>in </td><td>the number of features per data item  </td></tr>
<tr>
<td><em>const int cmpto</em>  </td><td>in </td><td>the number of the data point the other data item should be compared to  </td></tr>
<tr>
<td><em>const float epseps</em> </td><td>in </td><td>square of the search radius  </td></tr>
</table>
<h3>__kernel void testdistance2</h3>
<p>(<br />
 &emsp; global const float* data, <br />
 &emsp; global unsigned short* b, <br />
 &emsp; const int features, <br />
 &emsp; const int cmpto, <br />
 &emsp; const float epseps <br />
 ) <br />
<br />
</p>
<p>Calculates the euclidean distance of each data item to a specific given data item. This method is used during the expansion of the clusters.<br />
</p>
<table class="doxtable">
<tr>
<th>parameter </th><th>in/out </th><th>description  </th></tr>
<tr>
<td><em>global const float* data</em> </td><td>in </td><td>input data  </td></tr>
<tr>
<td><em>global unsigned short* b</em> </td><td>out </td><td>Bit 0: Point has been clustered (1) or not (0)<br />
 Bit 1: Point is distance reachable (main loop)<br />
 Bit 2: Point is distance reachable (cluster expansion loop)<br />
 Bit 3-15: Cluster number for each data item  </td></tr>
<tr>
<td><em>const int features</em>  </td><td>in </td><td>the number of features per data item  </td></tr>
<tr>
<td><em>const int cmpto</em>  </td><td>in </td><td>the number of the data point the other data item should be compared to  </td></tr>
<tr>
<td><em>const float epseps</em> </td><td>in </td><td>square of the search radius  </td></tr>
</table>

</div>
</div>
<a id="ab9867da3bf6e8f1129209c6583fb662f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9867da3bf6e8f1129209c6583fb662f">&#9670;&nbsp;</a></span>doabort</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile int doabort = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>flag for premature abort of algorithms </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
